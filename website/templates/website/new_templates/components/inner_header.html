{% load category_tags %} {% load staticfiles %}
{% load i18n %}
{% load currency_filters %}
{% load purchase_info_tags %}
{% load widget_tweaks %}
{% load image_tags %}
<header class="header_bx header">
    <!-- Navbar -->    
 <nav class="navbar navbar-expand-lg navbar-light">
    <!-- Container wrapper -->
    <div class="container">
        <!-- Navbar brand -->
        <a class="navbar-brand" href="{{homepage_url}}">
            <img src="{% static 'new_templates_assets/images/logo_wth_bg.svg' %}" style="max-height: 60px;" />            
        </a>       
        <!-- Right elements -->
        <div class="nh_r_bx">
            <div class="ng_r_crtb">
                <a class="nav-link crtbx" href="{% url 'basket:summary' %}">
                    <i class="ri-shopping-cart-2-line"></i> 
                    
                    {% if request.basket.num_lines %}
                    <span class="cntr" id="shopping-cart-lenn">{{ request.basket.all_lines|length }}</span>
                    {% else %}
                    <span class="cntr" id="shopping-cart-lenn">0</span> 
                    {% endif %}
                    
                </a>
            </div>       
            <div class="d-flex align-items-center responsive_menu">             
                <button class="navbar-toggler menu-link nv_button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="menu-icon">
                        <span class="menu-line menu-line-1"></span>
                        <span class="menu-line menu-line-2"></span>
                        <span class="menu-line menu-line-3"></span>
                    </span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <div class="mobile_header_bx  navbar-expand-lg navbar-toggler">

                        <div class="mobile-header">
                            <div class="m_logo">
                                <img class="ml_img" src="{% static 'new_templates_assets/images/black_logo.png' %}" />
                            </div>
                            <div class="m_close_btn">
                                <button class="navbar-toggler menu-link nv_button" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="menu-icon">
                                        <span class="menu-line menu-line-1"></span>
                                        <span class="menu-line menu-line-2"></span>
                                        <span class="menu-line menu-line-3"></span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                <!-- Left links -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link " href="{{homepage_url}}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if view_name == 'website:product_list' %}active{% endif %}" href="{% url 'website:product_list' %}">Our Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if view_name == 'website:review' %}active{% endif %}" href="{% url 'website:review' %}">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if view_name == 'website:about_us' %}active{% endif %}" href="{% url 'website:about_us' %}">About Us</a>
                    </li>
                    
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0);">
                            <img src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp" class="rounded-circle" height="45" loading="lazy" />
                            <span>My Profile</span>                        
                        </a>
                    </li> -->
                    <li class="nav-item">
                    {% if request.user.is_authenticated %}
                    <div class="btn-group cstmmyactn">
                    



                        <button type="button" class="btn btn-cstm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    {% if request.user.profile_picture %}
                    <span class="ttname">
                    <img src="{{MEDIA_URL}}{{user.profile_picture}}" class="rounded-circle" height="45" loading="lazy" /></span>
                    {% elif request.user.first_name %}
                    <a class="nav-link" href="javascript:void(0);">
                            <svg width="24" height="24" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#fff" fill-rule="evenodd"><path d="m5.948 6.447c0 1.861 1.552 3.369 3.467 3.369 1.914 0 3.466-1.509 3.466-3.369 0-1.862-1.552-3.37-3.466-3.37-1.915 0-3.467 1.509-3.467 3.37m8.289 5.682c-.121-.041-.245-.075-.37-.102 0 0-1.153-.456-4.367-.456-3.214 0-4.367.456-4.367.456-1.735.343-3.133 2.108-3.133 3.878v2.095h9.357c-.229-.525-.357-1.105-.357-1.714 0-2.01 1.377-3.689 3.237-4.157m.215 5.623l.55.555.532-.573 2.973-3.2c.282-.303.264-.778-.039-1.06-.303-.282-.778-.264-1.06.039l-2.406 2.486-.698-.528c-.292-.294-.766-.297-1.061-.005-.294.292-.297.766-.005 1.061l1.213 1.225" fill="#fff"></path></g></svg>
                            <!-- {{request.user.get_full_name.0}} -->
                    </a>
                    {%else%}
                        <span class="ttname"><img src="{% static 'website/images/ic_login.png' %}" alt=""></span>                                    
                    {%endif%}
                    
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{% url 'customer:summary' %}">My Profile</a></li>
                    <!-- {% if request.user.is_authenticated %}
                    <li class="crtmenu">
                        <a href="{% url 'basket:summary' %}">My Cart</a>
                        {% if request.basket.num_lines %}
                            <span class="cntr" id="shopping-cart-len" >{{ request.basket.all_lines|length }}</span>
                        {% else %}
                        <span class="cntr" id="shopping-cart-len">0</span>
                        {%endif%}
                        
                    </li>
                    {% endif %} -->
                    <li><a class="dropdown-item" href="{% url 'customer:order-list' %}">My Order</a></li>
                    <li><a class="dropdown-item" href="{% url 'customer:logout' %}">Logout</a></li>      
                </ul>
            </div>                    
                {%else%}
                <a class="nav-link h_lgn-btn" href="javascript:void(0);" id="usr-login-btn" data-bs-toggle="modal" data-bs-target="#lgnflowmodal">
                    <!-- <span><i class="ri-user-line"></i></span>                                 -->
                    Login
                </a>  
                {% endif %}
            </li>
            <li class="nav-item">
                <a class="nav-link crtbx" href="{% url 'basket:summary' %}">
                    <i class="ri-shopping-cart-2-line"></i> 
                    
                    {% if request.basket.num_lines %}
                    <span class="cntr" id="shopping-cart-lenn">{{ request.basket.all_lines|length }}</span>
                    {% else %}
                    <span class="cntr" id="shopping-cart-lenn">0</span>
                    {% endif %}
                    
                </a>
            </li>
                </ul>
                <!-- Left links -->
            </div>
            <!-- Collapsible wrapper -->
                            
                
            
            </div>
        </div>
        <!-- Right elements -->
    </div>
    <!-- Container wrapper -->
</nav>
<!-- Navbar -->
</header>



{% if not request.user.is_authenticated %}

<div class="modal fade login_modal" id="lgnflowmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">                
              <div class="modal-body px-0 py-0">
                <form action="" id="popup-form">
                  <button type="button" class="close" id="clsbtnm" data-dismiss="modal" aria-label="Close">
                    âœ•
                      <!-- <i class="ri-close-line"></i> -->
                  </button>
                        
                  <div id="lgn_mdl" class="loginmodal">
                      <div class="row g-0">
                          <div class="col-5 p-0">
                              <div class="loginmodal_content">
                                  <h4>Login</h4>
                                  <p>Get access to your Orders, Wishlist and Recommendations</p>
                                  <div class="login_m_img">
                                      <img src="{% static 'website/images/img_lgnpstr.png' %}" alt="" class="img-fluid">
                                  </div>
                              </div>
                          </div>
                          <div class="col-7 p-0">
                              <div class="lgn_frm cartform">

                                    <div class="form-group mobile-number-entered field numbrbx">                                                    
                                        <div class="mobile_number_seprater">
                                            <span>+91</span>&nbsp<span style="color:grey">|</span>
                                        </div>
                                        <input type="text" class="form-control field-control" name="mobile_number" id="id_user_mobile_number" placeholder=" " maxlength="10" oninput="this.value=this.value.replace(/[^0-9]/g,'');">                                
                                        <label for="id_user_mobile_number">Enter Mobile Number</label>                                   
                                        <div class="cus-border"></div>                                    
                                    </div>
                                    <div id="errmssg" class="lgn_err"></div>
                                    <div id="mb-error" class="d-none lgn_err">Mobile Number Field Is Required</div>
                                    <div id="mbb-error" class="d-none lgn_err">Please Enter Valid Mobile Number</div>
                                    
                                    <p>By continuing, you agree to Instaeats <a href="{%url 'website:privacy_policy'%}"> Terms of Use </a> and <a href="{%url 'website:privacy_policy'%}"> Privacy Policy </a></p>
                                    <div class="modal_log_btn">
                                        <button type="button" id="lgnankbtn" class="btn user-login-model">Login</button>
                                        <!-- <button type="submit" class="btn user-login-model spnrbtn d-none">
                                            <span class="spinner-border spinner_white" role="status" spinnercolor="white"></span> Login
                                        </button> -->
                                        <!-- <a href="javascript:void(0);" id="lgnankbtn" class="btn user-login-model">Login</a> -->
                                        <button type="button" class="btn user-login-model spnrbtn d-none" id="user-login-model">
                                            <span class="spinner-border spinner_white" role="status" spinnercolor="white"></span> Login
                                        </button>
                                    </div>
                                    
                                    <!-- <div class="notacc">
                                        <p>Don't have an Account? <a id="crtantank" href="javascript:void(0);">Create account</a></p>
                                    </div>                        -->
                                    <div class="tcppbx">
                                        <p>By logging in you agree to the <br><a href="{%url 'website:privacy_policy'%}">Terms &amp; Conditions</a> and <a href="{%url 'website:privacy_policy'%}">Privacy Policy</a></p>
                                    </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  
                  <div id="otpmdl_n" class="loginmodal" style="display: none;">
                      <div class="row g-0">
                          <div class="col-5 p-0">
                              <div class="loginmodal_content">
                                  <h4>OTP</h4>
                                  <p>Get access to your Orders, Wishlist and Recommendations</p>
                                  <div class="login_m_img">
                                      <img src="{% static 'website/images/img_lgnpstr.png' %}" alt="" class="img-fluid">
                                  </div>
                              </div>
                          </div>
                          <div class="col-7 p-0">
                                <div class="lgn_frm kfdllt cartform">   

                                    <div class="form-group mobile-number-entered field numbrbx">
                                        <div class="mobile_number_seprater">
                                            <span>+91</span>&nbsp<span style="color:grey">|</span>
                                        </div>

                                        <input type="text" class="form-control field-control" name="mobile_number" id="id_user_login_mobile_number"  disabled>
                                        <label for="id_user_login_mobile_number">Enter Mobile Number</label>                                   
                                        <div class="cus-border"></div>   
                                        <a class="edtbtn" id="edtank" href="javascript:void(0);">Edit</a>                                 
                                    </div>
                                  <div id="errmssg" class="lgn_err"></div>
      
                                    <div class="form-group mobile-number-entered field" id="otp-vf">
                                        <input type="text" class="form-control field-control" id="id_otp" maxlength="6" oninput="this.value=this.value.replace(/[^0-9]/g,'');" name="otp" id="id_otp" placeholder=" ">                                
                                        <label for="id_otp">Enter OTP</label>                                   
                                        <div class="cus-border"></div>
                                        <a class="resentotp" id="resend-otp-btn" href="javascript:void(0);">Resend</a>
                                    </div>
                                  <div id="otperrmsg" class="lgn_err"></div>


                                  <p>By continuing, you agree to Instaeats <a href="{%url 'website:privacy_policy'%}"> Terms of Use </a> and <a href="{%url 'website:privacy_policy'%}"> Privacy Policy </a></p>
                                  <div class="modal_log_btn">
                                    <button type="button" class="btn user-verify-otp" id="usr-verify-otp">Login</button>
                                    <button type="button" class="btn user-login-model spnrbtn d-none" id="user-vf-login-model">
                                        <span class="spinner-border spinner_white" role="status" spinnercolor="white"></span> Login
                                    </button>

                                      <!-- <a href="javascript:void(0);" class="btn user-verify-otp">Login</a> -->
                                  </div>
                                  <!-- <div class="notacc">
                                  <p>Don't have an Account? <a id="crtantankk" href="javascript:void(0);">Create account</a></p> </div>                        -->
                                  <div class="tcppbx">
                                      <p>By logging in you agree to the <br><a href="{%url 'website:privacy_policy'%}">Terms &amp; Conditions</a> and <a href="{%url 'website:privacy_policy'%}">Privacy Policy</a></p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
      
                  <!-- for register -->
                  <div id="otpmdl_register" class="loginmodal" style="display: none;">
                      <div class="row g-0">
                          <div class="col-5 p-0">
                              <div class="loginmodal_content">
                                  <h4>OTP</h4>
                                  <p>Get access to your Orders, Wishlist and Recommendations</p>
                                  <div class="login_m_img">
                                      <img src="{% static 'website/images/img_lgnpstr.png' %}" alt="" class="img-fluid">
                                  </div>
                              </div>
                          </div>
                          <div class="col-7 p-0">
                              <div class="lgn_frm cartform"> 
                                
                                
                                <div class="form-group mobile-number-entered field numbrbx">
                                    <div class="mobile_number_seprater">
                                        <span>+91</span>&nbsp<span style="color:grey">|</span>
                                    </div>
                                    <input type="text" class="form-control field-control" name="mobile_number" id="id_user_r_mobile_number"  disabled>
                                    <label for="id_user_r_mobile_number">Enter Mobile Number</label>                                   
                                    <div class="cus-border"></div>   
                                    <a class="edtbtn" id="edtank" href="javascript:void(0);">Edit</a>                                 
                                </div>

                                <div class="form-group mobile-number-entered field" id="otp-vf">
                                    <input type="text" class="form-control field-control id_register_otp" oninput="this.value=this.value.replace(/[^0-9]/g,'');" maxlength="6" name="otp" id="id_register_otp" placeholder="Enter OTP">                                
                                    <label for="id_register_otp">Enter OTP</label>                                   
                                    <div class="cus-border"></div>
                                    <a class="resentotp" id="resend-otp-btn" href="javascript:void(0);">Resend</a>
                                </div>
                                

                                
       
                                  <div id="errmesg" class="lgn_err"></div>
                                  <!-- <div id="otperrmsg" class="lgn_err"></div>
       -->
                                  <p>By continuing, you agree to Instaeats <a href="{%url 'website:privacy_policy'%}"> Terms of Use </a> and <a href="{%url 'website:privacy_policy'%}"> Privacy Policy </a></p>
                                  <div class="modal_log_btn">
                                    <button type="button" class="btn user-register-verify-otp">Login</button>

                                      <!-- <a href="javascript:void(0);" class="btn user-register-verify-otp">Login</a> -->
                                  </div>
                                  <!-- <div class="notacc">
                                  <p>Don't have an Account? <a id="crtantankkk" href="javascript:void(0);">Create account</a></p> </div>                        -->
                                  <div class="tcppbx">
                                      <p>By logging in you agree to the <br><a href="{%url 'website:privacy_policy'%}">Terms &amp; Conditions</a> and <a href="{%url 'website:privacy_policy'%}">Privacy Policy</a></p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
      
                  <div id="crtmdl_n" class="loginmodal" style="display: none;">
                      <div class="row g-0">
                          <div class="col-5 p-0">
                              <div class="loginmodal_content">
                                <h4>Looks like you're new here!</h4>
                                  <!-- <h4>Create A New Account</h4> -->
                                  <p>Sign up with your mobile number to get started</p>
                                  <div class="login_m_img">
                                      <img src="{% static 'website/images/img_lgnpstr.png' %}" alt="" class="img-fluid">
                                  </div>
                              </div>
                          </div>
                          <div class="col-7 p-0">
                              <div class="lgn_frm cartform">


                                <div class="form-group mobile-number-entered field numbrbx">
                                    <div class="mobile_number_seprater">
                                        <span>+91</span>&nbsp<span style="color:grey">|</span>
                                    </div>                                    
                                    <input type="text" class="form-control field-control" tabindex="1" name="mobile_number" placeholder=" " maxlength="10" id="id_user_register_mobile_number" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                                    <label for="id_user_register_mobile_number">Enter Mobile Number</label>                                   
                                    <div class="cus-border"></div>                                       
                                </div>



            
                                  <!-- <div class="form-group mobile-number-entered field">
                                      
                                      <label for="id_user_register_mobile_number">Enter Mobile Number</label>
                                      <div class="cus-border"></div>
                                  </div> -->
                                  <div id="errmsgg" class="lgn_err"></div>
      
                                  <!-- <div class="form-group mobile-number-entered field">
                                      <input type="name" class="form-control field-control" tabindex="2" name="full_name"  id="id_frst_name" required placeholder=" ">
                                      <label for="id_frst_name">Enter Full Name</label>
                                      <div class="cus-border"></div>
                                  </div>
                                  <div id="name_errmsg" class="lgn_err"></div>
      
                                  <div class="form-group mobile-number-entered field">
                                        <input type="email" class="form-control field-control" tabindex="3" name="email" id="id_register_email" placeholder=" ">
                                        <label for="id_register_email">Enter Email Id</label>
                                        <div class="cus-border"></div>               
                                  </div>
                                  <div id="errmsg" class="lgn_err"></div> -->
      
                                  <p>By continuing, you agree to Instaeats <a href="{%url 'website:privacy_policy'%}"> Terms of Use </a> and <a href="{%url 'website:privacy_policy'%}"> Privacy Policy </a></p>
                                  <div class="modal_log_btn">
                                    <button type="button" class="btn signup_validation" id="user_signup_validation">Signup</button>
                                      <!-- <a href="javascript:void(0);" class="btn signup_validation">Signup</a> -->
                                      <button type="button" class="btn user-login-model spnrbtn d-none" id="user-vf-signup-model">
                                        <span class="spinner-border spinner_white" role="status" spinnercolor="white"></span> Login
                                    </button>
                                  </div>
      
                                  <div class="notacc">
                                  <p>Already have an account?  <a id="lgnmdl_n" href="javascript:void(0);">Login</a></p> </div>                       
                                  <div class="tcppbx">
                                      <p>By logging in you agree to the <br><a href="{%url 'website:privacy_policy'%}">Terms &amp; Conditions</a> and <a href="{%url 'website:privacy_policy'%}">Privacy Policy</a></p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                </form>
      
              </div>
             
            </div>
          </div>
    
</div>

{%endif%}
